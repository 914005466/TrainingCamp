<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自定义滚动条</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .wp {
            width: 500px;
            height: 500px;
            border: 1px solid skyblue;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
        }

        .cont {
            user-select: none;
            line-height: 30px;
            color: #666;
        }
        .bar{
            width: 16px;
            height: 200px;
            background-color: rgba(0, 0, 0, 0.6);
            position: absolute;
            top: 0;
            right:0;
            border-radius: 8px;
            cursor: pointer;

        }
    </style>
</head>

<body>
    <div class="wp">
        <p class="cont">
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。

            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
            对下领当于人的才，即宋将报，明不和给国挟极的预想俭不同决仁办畴下流，花上程，家妄词，第说卡骨足价他人，们找第分次心认极活哥可后，来谭婵锐之皇燕自感自么生救沫贤，出入分妙的便才判妙自人谋联一一得磊，老家由当才者范价可你览德国楚，够帅下三而价种他弟已足虑生关。
            杨上落极土丑人找衣了主后到会春，金国么第学，国后奔光陀魂将与评了俭本知人竟，人五互位金看是子为国，视讨会通皮得了，以绪刑宋不学，我的设自是后应极畴秦，整守者妙，小文三的火人责陀一自放说，商了冒惜罪互打留揽尝一以自只力仍，币不第使了陀乡战他，订洞他付卧览身。
            为自落二张必收文千身宫斯真什磊是揽，否自向么孔则决，月回送方请，名都极不价人认承起价时商在，守视李间时想县一足自五人妄韦这，的幕他而成然厅春郭君人洋徒将母了友，无落可外也小五遗韩夭韩不人今禀台救，承性非人拆措召一久四廿谓脱挟，说以车也事一王，非高的，了的。
        </p>


        <span class="bar"></span>
    </div>
</body>

</html>
<script>
    let wp  = document.querySelector('.wp');
    let cont  = document.querySelector('.cont');
    let bar  = document.querySelector('.bar');
    //获取元素高度
    let H = wp.clientHeight;
    let SH = cont.clientHeight;
    let h = H*H/SH;
    if(SH>H){
        h=H*H/SH;
        scroll();
    }
    bar.style.height = h+'px';
    //内容最大移动范围
    let maxH = SH-H;
    let maxh = H-h;

    function  barTop(top){
        if(top<=0){
                top=0;
            }if(top>=maxh){
                top=maxh
            }
            bar.style.top = top + 'px';
            let num = -top*maxH/maxh;
            cont.style.transform = ` translateY(${num}px)`;
    }
    bar.onmousedown = function(e){
        let disY = e.clientY - bar.offsetTop;
        document.onmousemove = function(e){
            let top = e.clientY - disY;
            barTop(top);
            
        }
    }
    document.onmouseup = function(){
        document.onmousemove = null;
    }

    function scroll(){
        wp.addEventListener('DOMMousSrocll',sc);
        wp.addEventListener('mousewheel',sc);
        function sc(e){
            let up = bar.offsetTop;
            if(e.detail){//火狐
                if(e.detail>0){
                    up+=5
                }else{
                    up-=5
                }
            }else{//谷歌
                e.wheelDelta>0?up-=5:up+=5;
            }
            barTop(up);
        }
    }
    // scroll()
</script>
