<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>移动端动画</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        .wp{
            width: 50px;
            height: 50px;
            background: pink;

        }
    </style>
</head>
<body>
    <div class="wp">

    </div>
    <button id="btn">停止</button>
</body>
</html>
<script>
    var wp = document.querySelector('.wp');
    let btn = document.querySelector('#btn');
    var n = 0;
    let rf;
   
    // setInterval(() => {
    //     n++;
    //     wp.style.transform =   `  translateX(${n}px)`
    // }, 200);
     /*
    1.不用写间隔时间,由浏览器自身的刷新频率即为间隔时间,当浏览器刷新,计时器触发
    2.当窗口出了闲置的时候,该计时器会自动停止,节省浏览器的开销,优化内存,如果窗口被激活,继续执行
    */
    function move(){
        n+=2;
        wp.style.transform =   `  translateX(${n}px)`
        rf = requestAnimationFrame(move);
    }
    move()
    btn.onclick = function(){
        cancelAnimationFrame(rf);
        //延时计时器
        setTimeout(()=>{
            move()
        },2000);
    }
   
</script>