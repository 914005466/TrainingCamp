<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cookie</title>
    <style>

    </style>
</head>
<body>
    <button class="add">添加cookie</button>
    <button class="getval">获取cookie</button>
    <button class="del">删除cookie</button>
    <button class="qing">清空cookie</button>
</body>
</html>
<script src="./js/cookie.js"></script>
<script>
/*
cookie 出现的原因:http 请求是客服端向服务端 交互常用的方式之一,他是一个短链接(请求处理完之后自动断开,如果需要再次链接则必须重新发送http请求),如果需要使用其他的http请求,则必须具有token(也就是登录凭证,用来确认用户的身份信息).一般将token储存到cookie中

cookie 是一段文本信息,一般请求数据的时候会一起提交到服务器

后台人员可以读取和操作cookie.完成身份确认

cookie的应用场景
1.用户登录
2.统计新用户
3.用户的访问次数
4.用户定制化服务
5.自动登录(记住密码)

弊端
1.容量比较小 只有4kb
2.有条数限制(ie7以上只能存50条,谷歌没有限制)
3.cookie 能在浏览器端看到,不太安全
4.cookie 需要手动设置过期时间

前端操作方法
通过document 操作
doucument.cookie = 'key=value;过期日期'

设置cookie 的参数
key 表示cookie的属性名
value 表示cookie 的属性值
domain 表示当前cookie 所在的域名,一般在cookie设置的时候不做任何操作,默认即可
path 表示访问cookie 路径,同上不做操作,默认即可
expires / max-Age 用来设置该cookie的过期日期,如果超过了设置过期日期,当前cookie就会被删除掉

secure : 配合https使用 ,值是true/false

添加一条cookie 的流程
1.确定 cookie 的key 和value
2.确定 cookie 的 过期日期
3.通过 document.cookie 把cookie添加到 储存中

cookie的特点
1.cookie 能让数据持久化(储存数据)
2.同一个域名下,不同的地方声明的cookie都在该域名的cookie 列表中
3.设置cookie 的时候,如果不添加过期日期,则该cookie是一个会话数据(浏览器关闭,数据删除)
4.同一个域名下设置相同key的不同值cookie,后面的会覆盖前面的值

过期日期设置
expires 设置超时的日期对象
max-age 设置超时的秒数,单位是s


各个浏览器各自管理自己的cookie
*/

// let date = new Date('6 12 2024')
// document.cookie = 'name = 屈原 ;expires ='+date;
// document.cookie = 'food = 粽子 ; max-age=10'
let add = document.querySelector('.add')
let getval = document.querySelector('.getval')
let del = document.querySelector('.del')
let qing = document.querySelector('.qing')
add.onclick = function(){
    let date = new Date('6 12 2024');
    // document.cookie = 'name = 屈原 ;expires ='+date;
    addCookie('name','后裔',date);
    addCookie('name1','后裔1',date);
    addCookie('name2','后裔2',date);
};
getval.onclick = function(){
    getValue('name')
    console.log( getValue('name'));
}
del.onclick = function(){
    delCookie('name1')
}
qing.onclick = function(){
    clearCookie()
}
</script>