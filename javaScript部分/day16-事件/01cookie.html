<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cookie</title>
</head>
<body>
    <button id="add">增加cookie</button>
    <button id="getVal">获取cookie</button>
    <button id="del">删除cookie</button>
    <button id="clear">清空cookie</button>
</body>
</html>
<script src="./js/cookie.js"></script>
<script>
/*
cookie 出现的原因：http 请求是客户端向服务端 交互常用的方式之一，他是一个短链接(请求处理完成之后自动断开，如果再次链接则必须重新发送http请求)，如果需要使用其他的http请求，则必须具有token(登录凭证，用来确定用户的身份信息)，一般将token存储到cookie中

cookie 是一段文本信息，一般请求数据的时候会一起提交到服务器
后台人员可以读取和操作cookie，完成身份确认

cookie 的应用场景
1. 用户登录
2. 统计新用户
3. 用户访问次数
4. 用户定制化服务(猜你喜欢)
5. 自动登录(记住密码)

弊端:
1. 容量小，只有4kb
2. 有条数限制(ie7以上只能存50条，谷歌没有限制)
3. cookie能在浏览器端看到，不太安全
4. 需要手动设置过期时间

前端操作语法
通过 document 操作
document.cookie = 'key=value;过期日期';

设置cookie的参数
key 表示 cookie的属性名
value 表示 cookie 的 属性值
domain 表示当前cookie所在的域名，一般在cookie设置的时候不做任何操作，默认即可
path 表示访问cookie 路径，同上不做操作，默认即可
expires/max-Age 用来设置该cookie的过期日期，如果超过了设置的过期日期，当前cookie就会被删除掉
secure ：配合https使用，值是true/false

添加一条cookie的流程
1. 确定 cookie 的 key 和 value
2. 确定 cookie 的 过期日期
3. 通过 document.cookie 把 cookie添加到 存储中

cookie的特点
1. cookie 能让数据持久化(存储数据)
2. 同一个域名下，不同的地方声明的cookie都在该域名的cookie列表中
3. 设置cookie的时候，如果不添加过期日期，则该cookie是一个会话数据(浏览器关闭， 数据删除)
4. 同一个域名下设置相同key的不同值cookie，后面的会覆盖前面设置的值

过期日期设置
expires 设置超时的日期对象
max-age 设置超时的秒数，单位是s

各个浏览器各自管理自己的cookie
*/
// let date = new Date('6 12 2024');
// document.cookie = 'name=屈原;expires='+date;
// document.cookie = 'food=粽子;max-age=10';
add.onclick = function(){
    let date = new Date('6 22 2024');
    // document.cookie = 'name=屈原;expires='+date;
    addCookie('name','后羿',date);
    addCookie('aa','后羿1',date);
    addCookie('bb','后羿2',date);
};
getVal.onclick = function(){
  let str = getValByKey('bb0');
  console.log( str );
};
del.onclick = function(){
    delCookie('bb');
};
clean.onclick = function(){
    clearCookie();
};
</script>